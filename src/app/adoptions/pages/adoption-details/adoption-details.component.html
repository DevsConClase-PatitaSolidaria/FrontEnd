<!--
  Autor: @leccapedro
  Descripci√≥n: Esta vista muestra los detalles completos de una mascota seleccionada.
  Incluye informaci√≥n general, historia de rescate, estado de salud y registro de vacunaci√≥n.
-->

<!-- Loader mientras se obtienen los datos -->
<div *ngIf="loading">Cargando informaci√≥n de la mascota...</div>

<!-- Bot√≥n para volver -->
<a routerLink="/adoptions" class="back-button">‚Üê Volver a adopciones</a>

<!-- Contenedor principal -->
<div *ngIf="!loading && pet" class="pet-details-container">

  <!-- Imagen de la mascota -->
  <div class="image-section">
    <img [src]="pet.imageUrl" [alt]="pet.name" />
  </div>

  <!-- Informaci√≥n detallada -->
  <div class="info-section">
    <h2>{{ pet.name }}</h2>

    <!-- Detalles b√°sicos -->
    <p><strong>Especie:</strong> {{ pet.species }}</p>
    <p><strong>Raza:</strong> {{ pet.breed }}</p>
    <p><strong>Edad:</strong> {{ pet.age }} a√±os</p>
    <p><strong>G√©nero:</strong> {{ pet.gender }}</p>
    <p><strong>Tama√±o:</strong> {{ pet.size }}</p>
    <p><strong>Peso:</strong> {{ pet.weight }}</p>
    <p><strong>Largo de pelo:</strong> {{ pet.hair }}</p>
    <p><strong>Nivel de actividad:</strong> {{ pet.activity }}</p>
    <p><strong>Ubicaci√≥n:</strong> {{ pet.location }}</p>

    <hr />

    <!-- Descripci√≥n y historia -->
    <p><strong>Descripci√≥n:</strong> {{ pet.description }}</p>
    <p><strong>Historia de rescate:</strong> {{ pet.rescue_story }}</p>
    <p><strong>Rescatado por:</strong> {{ pet.rescued_by }}</p>
    <p><strong>Estado de salud:</strong> {{ pet.health }}</p>

    <hr />

    <!-- üíâ Registro de vacunaci√≥n -->
    <div *ngIf="pet.vaccination_record && pet.vaccination_record.length">
      <h3>Historial de Vacunaci√≥n</h3>
      <ul>
        <li *ngFor="let registro of pet.vaccination_record">
          <strong>Dosis {{ registro.doses }}:</strong>
          <span>{{ registro.date }}</span><br />
          <em>Vacunas:</em> {{ registro.vaccines.join(', ') }}
        </li>
      </ul>
    </div>

    <!-- Bot√≥n de solicitud -->
    <button class="adopt-button">Solicitar adopci√≥n</button>
  </div>
</div>

<!-- En caso no se encuentre la mascota -->
<div *ngIf="!loading && !pet">
  <p>Mascota no encontrada.</p>
</div>
